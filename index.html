<!DOCTYPE html>
<html>

<head>
  <!-- Site made with Mobirise Website Builder v5.9.0, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">


  <title>Baby Massitinha</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Dela+Gothic+One:400&display=swap" as="style"
    onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dela+Gothic+One:400&display=swap">
  </noscript>
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Golos+Text:400,500,600,700,800,900&display=swap"
    as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Golos+Text:400,500,600,700,800,900&display=swap">
  </noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">




</head>

<body>

  <section data-bs-version="5.1" class="article05 cid-tIsj2q7oBw" id="article05-1">


    <div class="container">
      <div class="row justify-content-center align-items-center">
        <div class="col-12">
          <div class="card-wrapper">
            <div class="row">
              <div class="col-12 col-md-12 col-lg-5 image-wrapper">
                <img class="w-100" src="assets/images/mbr-1.jpg">
              </div>
              <div class="col-12 col-lg col-md-12">
                <div class="text-wrapper align-left">
                  <h1 class="mbr-section-title mbr-fonts-style mb-4 display-2"><strong>Surpresa!</strong></h1>
                  <p class="mbr-text mbr-fonts-style mb-4 display-7">O momento pelo qual todos esperávamos finalmente
                    chegou! Nosso pacotinho de alegria está prestes a entrar em nosso mundo, e não poderíamos estar mais
                    entusiasmados. Temos um segredo em nossas mãos: o nome do nosso bebê!<br>
                    <br>Rufem os tambores!… <br>Não, sério, comecem os tambores virtuais, todo mundo estava esperando
                    por isso.<br>
                    <br>Tudo bem, chega de enrolação. Preparem-se, queridos amigos e família. É hora de revelar o nome
                    do nosso precioso novo bebê!<br>
                  </p>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section data-bs-version="5.1" class="form1 cid-tIsokmLLOC" id="form01-7">




    <div class="container">
      <div class="row content-wrapper justify-content-center">
        <div class="col-lg-7 mbr-form">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <h5 class="mbr-section-title mbr-fonts-style mb-5 display-2"><strong>Pronto para a grande
                revelação?</strong><strong><br></strong></h5>
          </div>

          <div class="col-lg-12 col-md-12 col-sm-12">
            <h5 class="mbr-section-title mbr-fonts-style mb-5 display-4">
              Espera! Você terá que jogar um jogo para descobrir!
              <br>
              Sim, nunca é tão simples…
              <br>
              <br>
              Intrigante, não é?
              <br><br>
              O jogo gira em torno de uma conversa com um robô que sabe o nome do bebê. Sua missão é persuadir este robô
              a revelar o nome, ou, usar suas habilidades de detetive para decifrá-lo a partir das dicas que o robô vai
              soltar durante a discussão. É uma maneira divertida e única de descobrir o nome do bebê!<br>
            </h5>
          </div>
  </section>

  <section data-bs-version="5.1" class="form1 cid-yellow">

    <div class="col-lg-12 col-md-12 col-sm-12">
      <h5 class="mbr-section-title mbr-fonts-style mb-5 display-2"><strong>Vamos lá!</strong><strong><br></strong></h5>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12">
      <h5 class="mbr-section-title mbr-fonts-style mb-5 display-4">
        Use o espaço abaixo para conversar com o robô e tentar descobrir o nome do bebê!
        <br>
        Você pode pedir dicas, fazer perguntas e até mesmo tentar enganá-lo para revelar o segredo!
    </div>
    <br><br>
    <div class="text-wrapper align-left">
      <!--Formbuilder Form-->

      <div class="dragArea row">
        <div class="container">
          <div class="row justify-content-center align-items-center">
            <div class="col-12">
              <div class="card-wrapper">
                <div class="row">
                  <pre>
                  <div id="chat" class="chat"></div>
                </pre>
                </div>
              </div>
            </div>
          </div>
          <br>
        </div>

        <div data-for="name" class="col-lg-6 col-md-6 col-sm-12 form-group">
          <input type="text" name="name" placeholder="Mensagem" data-form-field="name" class="form-control display-7"
            value="" id="input">
        </div>
        <div class="col-auto mbr-section-btn">
          <button id="send" type="submit"
            class="w-100 w-100 w-100 w-100 w-100 w-100 btn btn-secondary display-7">Conversar</button>
        </div>
      </div>
    </div>
    <!--Formbuilder Form-->
    </div>
    </div>
    </div>
    </div>
  </section>


  <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/smoothscroll/smooth-scroll.js"></script>
  <script src="assets/ytplayer/index.js"></script>
  <script src="assets/theme/js/script.js"></script>

  <script>
    const chat = document.getElementById('chat');
    const input = document.getElementById('input');
    const sendButton = document.getElementById('send');
    const chatLog = [];

    function sendMessage(message) {
      appendMessage(message, 'user', true);

      fetch('https://baby-name-reveal-e392f1eb024a.herokuapp.com/api/chat', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          conversations: chatLog
        }),
      })
        .then((response) => response.json())
        .then((data) => {
          const aiMessage = data.choices[0].message.content;
          appendMessage(aiMessage, 'assistant', true);
        })
        .catch((error) => {
          console.error('Error:', error);
        });
    }

    function appendMessage(content, role, saveMessage) {
      const messageElement = document.createElement('p');
      messageElement.className = `${role === 'user' ? 'from-me' : 'from-them'}`;
      messageElement.textContent = `${content}`;
      chat.appendChild(messageElement);
      chat.appendChild(document.createElement("br"))
      chat.scrollTop = chat.scrollHeight;

      if (saveMessage) {
        // Save the message in the chat log and update localStorage
        chatLog.push({ role, content });

        if (chatLog.length > 10) {
          chatLog.shift();
        }

        localStorage.setItem("chatLog", JSON.stringify(chatLog));
      }
    }

    // Load the previous chat log from localStorage
    chatLog.forEach(({ content, role }) => {
      appendMessage(content, role, false);
    });

    sendButton.addEventListener('click', () => {
      const message = input.value;
      input.value = '';

      sendMessage(message);
    }
    )

    input.addEventListener("keyup", function(event) {
      if (event.keyCode === 13) {
        event.preventDefault();
        sendButton.submit();
      }
    });
  </script>


</body>

</html>